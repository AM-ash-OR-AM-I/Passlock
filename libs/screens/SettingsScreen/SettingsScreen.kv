#: import set_dark_mode libs.utils.set_dark_mode

<RightSwitch@IRightBodyTouch+MDSwitch>
    widget_style: "ios"

<MyListItem@OneLineIconListItem>
    theme_text_color:'Custom'
    text_color:app.text_color
    icon:"android"
    IconLeftWidget:
        icon: root.icon
        theme_text_color:'Custom'
        text_color:root.text_color

<SettingsScreen>
    md_bg_color: app.bg_color_dark if app.dark_mode else app.bg_color_light
    MDBoxLayout:
        adaptive_height:True
        pos_hint:{'top':1}
        orientation:'vertical'
        spacing:'15dp'
        Toolbar:
            title:'Settings'
            height:'60dp'
            md_bg_color:app.primary_accent
            padding:dp(15),0
            elevation:5
            icon_color:app.theme_cls.primary_color
            left_action_items:[['arrow-left',lambda x: app.root.goback()]]

	    MDBoxLayout:
            adaptive_height:True
            orientation:'vertical'
            MyListItem:
                text:"Sync Passwords"
                icon:"sync"
                on_release: app.root.HomeScreen.open_sync_dialog()
            ThreeLineAvatarIconListItem:
                id: auto_sync
                text:"Auto sync"
                secondary_text:"Passwords will be synced"
                tertiary_text:'automatically'
                theme_text_color:'Custom'
                text_color:app.text_color
                on_release:
                    auto_sync_switch.active = not auto_sync_switch.active
                RightSwitch:
                    id: auto_sync_switch
                    active: app.auto_sync
                    width: dp(44)
                    on_active: app.auto_sync = auto_sync_switch.active
                IconLeftWidget:
                    icon: "auto-upload"
                    theme_text_color:'Custom'
                    text_color:app.text_color
            ThreeLineAvatarIconListItem:
                id: system_dark_item
                text:"Use system theme"
                secondary_text:"Dark/Light mode of app will be"
                tertiary_text:"synchronised with system theme"
                theme_text_color:'Custom'
                text_color:app.text_color
                on_release:
                    system_dark_switch.active = not system_dark_switch.active
                RightSwitch:
                    id: system_dark_switch
                    active: app.system_dark_mode
                    width: dp(44)
                    on_active: app.system_dark_mode = system_dark_switch.active
                IconLeftWidget:
                    icon: "theme-light-dark"
                    theme_text_color:'Custom'
                    text_color:app.text_color
            MyListItem:
                text:"Advanced Security"
                icon:'shield-star'
            MyListItem:
                text:"Log out"
                icon:"logout"
                disabled: app.signup
                on_release: 
                    root.logout()

        MDSeparator:

        MDBoxLayout:
            adaptive_height:True
            padding:0,dp(20),0,0
            orientation:'vertical'
            MDRoundFlatButton:
                text:'[b]EXPLAIN FEATURES'
                theme_text_color:"Custom"
                text_color:app.theme_cls.primary_color
                pos_hint:{'center_x':.5}
